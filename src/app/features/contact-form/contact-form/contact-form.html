<div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md">

  <h2 class="text-xl font-semibold mb-4">Contact (Reactive Form)</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <label class="block mb-2">Email</label>
    <input type="email"
           formControlName="email"
           [class.is-invalid]="email?.invalid && (email?.touched || submitted)"
           class="w-full border p-2 rounded" />

    <!-- Messages d'erreur -->
    <div class="text-red-600 text-sm mt-1"
         *ngIf="email?.invalid && (email?.touched || submitted)">
      <div *ngIf="email?.errors?.['required']">Email requis</div>
      <div *ngIf="email?.errors?.['email']">Email invalide</div>
    </div>

    <button class="mt-4 bg-blue-600 text-white px-4 py-2 rounded"
            type="submit"
            [disabled]="form.invalid">
      Envoyer
    </button>

  </form>

  <pre class="mt-4 bg-gray-100 p-3 rounded text-xs">
{{ form.value | json }}
  </pre>

</div>
